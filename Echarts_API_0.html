<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.2/echarts.min.js" integrity="sha512-VdqgeoWrVJcsDXFlQEKqE5MyhaIgB9yXUVaiUa8DR2J4Lr1uWcFm+ZH/YnzV5WqgKf4GPyHQ64vVLgzqGIchyw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
  <div id="chart" style = "width:800px; height: 400px;"></div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  <script>
   var url="https://data.kcg.gov.tw/dataset/6f29f6f4-2549-4473-aa90-bf60d10895dc/resource/30dfc2cf-17b5-4a40-8bb7-c511ea166bd3/download/lightrailtraffic.json";

   fetch(url,{
        method:"GET",
   }).then(response=>{
        return response.json();
   }).then(json =>{
    //    1. 宣告一個陣列
    let newDataArray =[];
    //    2. 利用foreach 循環每筆資料
    json.forEach(element => {
     //     3. 在 foreach 內部使用 step1 宣告的陣列以 push 的方法將資料存入 
          newDataArray.push(element);
    });
    console.log(newDataArray);
   }).catch(error =>{
     console.log(error);
   })
    
  </script>
</body>
</html>